"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{3041:function(e,n,t){t.r(n),t.d(n,{FirstPlayButton:function(){return x},FirstPlayOverlay:function(){return P},FullscreenButton:function(){return y},PlayPauseButton:function(){return m},ProgressAndTimerContainer:function(){return b},StyledContainer:function(){return f},StyledControls:function(){return p},StyledPlayer:function(){return g}});var i=t(7297),r=t(8458);function l(){let e=(0,i.Z)(["\n  width: 100%;\n  background-color: black;\n"]);return l=function(){return e},e}function o(){let e=(0,i.Z)(["\n  position: relative;\n\n  max-width: fit-content;\n\n  max-width: 1000px;\n"]);return o=function(){return e},e}function u(){let e=(0,i.Z)(["\n  position: absolute;\n  bottom: 0;\n\n  width: 100%;\n\n  color: white;\n\n  display: grid;\n\n  grid-template-columns: ",";\n  grid-column-gap: 10px;\n\n  padding: 12px;\n\n  box-sizing: border-box;\n  z-index: 5;\n\n  @media (max-width: 640px) {\n    grid-template-columns: ",";\n    grid-column-gap: 4px;\n  }\n"]);return u=function(){return e},e}function s(){let e=(0,i.Z)(["\n  border-radius: 4px;\n  border: 0;\n  padding: 4px 8px;\n\n  box-sizing: border-box;\n\n  color: white;\n\n  min-width: 50px;\n\n  background-color: rgba(64, 64, 64, 0.7);\n\n  cursor: pointer;\n\n  min-height: 28px;\n\n  @media (max-width: 640px) {\n    padding: 4px 2px;\n  }\n"]);return s=function(){return e},e}function a(){let e=(0,i.Z)(["\n  display: flex;\n\n  background-color: rgba(64, 64, 64, 0.7);\n\n  padding: 4px 8px;\n  padding-left: 0;\n\n  border-radius: 4px;\n"]);return a=function(){return e},e}function c(){let e=(0,i.Z)(["\n  padding: 0;\n  min-width: initial;\n"]);return c=function(){return e},e}function d(){let e=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 10;\n\n  background-color: black;\n\n  display: flex;\n\n  align-items: center;\n  justify-content: center;\n\n  font-size: 50px;\n\n  cursor: pointer;\n"]);return d=function(){return e},e}function h(){let e=(0,i.Z)(["\n  font-size: 50px;\n  background-color: white;\n  outline: 0;\n  color: black;\n  padding: 12px 16px;\n\n  border-radius: 2px;\n\n  cursor: pointer;\n\n  border: none;\n\n  @media (max-width: 640px) {\n    padding: 8px 12px;\n\n    font-size: 20px;\n  }\n"]);return h=function(){return e},e}let g=r.ZP.video(l()),f=r.ZP.div(o()),p=r.ZP.div(u(),e=>{let{isIOS:n}=e;return n?"min-content 8fr 40px":"min-content 8fr 1fr 40px"},e=>{let{isIOS:n}=e;return n?"min-content 8fr 40px":"min-content 8fr 60px 40px"}),m=r.ZP.button(s()),b=r.ZP.div(a()),y=(0,r.ZP)(m)(c()),P=r.ZP.div(d()),x=r.ZP.button(h());n.default=g},8137:function(e,n,t){t.r(n),t.d(n,{Player:function(){return h}});var i=t(5893),r=t(7294),l=t(3041),o=t(8451),u=t(2750),s=t(994),a=t(2615),c=t(7489),d=t(5088);let h=e=>{let{src:n}=e,[t,h]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[p,m]=(0,r.useState)("paused"),[b,y]=(0,r.useState)(!1),[P,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c.Z.isEnabled&&c.Z.on("change",()=>{y(c.Z.isFullscreen)})},[]),(0,r.useEffect)(()=>{if(t){let e=new o.VideoController(t);return f(e),x(!1),()=>{e.dispose()}}return()=>{}},[t,n]),(0,r.useEffect)(()=>{g&&(g.subscribe("playingState",async()=>{m(g.getPlayingState())}),g.subscribe("seeking",async()=>m(g.getPlayingState())))},[g]);let C=(0,r.useCallback)(()=>{null==g||g.play()},[g]),v=(0,r.useCallback)(()=>{null==g||g.pause()},[g]),S=(0,r.useCallback)(()=>{null==g||g.replay()},[g]),k=(0,r.useRef)(null),w=(0,r.useCallback)(()=>{c.Z.isEnabled?k.current&&c.Z.toggle(k.current):t&&(null==t?void 0:t.webkitSupportsPresentationMode("fullscreen"))&&(null==t||t.webkitSetPresentationMode("fullscreen"))},[t]),L=(0,r.useCallback)(()=>{(null==g?void 0:g.getPlayingState())==="paused"&&(x(!0),null==g||g.play()),(null==g?void 0:g.getPlayingState())==="playing"&&(null==g||g.pause())},[g]),E=(0,r.useCallback)(e=>{e.stopPropagation()},[]);return(0,i.jsxs)(l.StyledContainer,{onClick:L,ref:k,children:[!P&&(0,i.jsx)(l.FirstPlayOverlay,{children:(0,i.jsx)(l.FirstPlayButton,{children:"Click to Play"})}),(0,i.jsx)(l.StyledPlayer,{playsInline:!0,muted:!0,preload:"metadata",ref:h,src:n}),(0,i.jsxs)(l.StyledControls,{isIOS:d.isIOS,onClick:E,children:[(0,i.jsxs)("div",{children:["paused"===p&&(0,i.jsx)(l.PlayPauseButton,{onClick:C,children:"play"}),"playing"===p&&(0,i.jsx)(l.PlayPauseButton,{onClick:v,children:"pause"}),"ended"===p&&(0,i.jsx)(l.PlayPauseButton,{onClick:S,children:"replay"})]}),(0,i.jsxs)(l.ProgressAndTimerContainer,{children:[(0,i.jsx)(u.Progress,{controller:g}),(0,i.jsx)(s.Timer,{controller:g})]}),!d.isIOS&&(0,i.jsx)(a.Volume,{controller:g}),(0,i.jsx)(l.FullscreenButton,{onClick:w,children:b?"]  [":"[  ]"})]})]})};n.default=h},8033:function(e,n,t){t.r(n),t.d(n,{FramePreview:function(){return o}});var i=t(7297),r=t(8458);function l(){let e=(0,i.Z)(["\n  width: 100px;\n  position: absolute;\n  bottom: 24px;\n\n  background-color: lightgray;\n\n  border: 1px solid lightgray;\n  box-sizing: border-box;\n\n  left: 0;\n\n  display: block;\n\n  overflow: hidden;\n  border-radius: 4px;\n\n  visibility: hidden;\n\n  padding: 0;\n  margin: 0;\n\n"]);return l=function(){return e},e}let o=r.ZP.video(l());n.default=o},2750:function(e,n,t){t.r(n),t.d(n,{Progress:function(){return d}});var i=t(5893),r=t(7294),l=t(5522),o=t(6104),u=t(7125),s=t(8033),a=t(7149);let c=new a.GesturesController,d=e=>{let{controller:n}=e,t=(0,r.useRef)(null),a=(0,r.useRef)(null),d=(0,r.useRef)(null),[h,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{a.current&&g(new o.RectangleController(a.current))},[]);let f=(0,r.useCallback)(()=>{let e=t.current;if(e){let i=(null==n?void 0:n.getPlayingProgress())||0,r=null==n?void 0:n.getDuration();r&&(e.style.width="".concat(100/r*i,"%"))}},[n]),p=(0,r.useCallback)(async()=>{let e=()=>{(null==n?void 0:n.getPlayingState())==="playing"&&(f(),window.requestAnimationFrame(e))};window.requestAnimationFrame(e)},[n,f]);(0,r.useEffect)(()=>{n&&n.subscribe("playingState",p)},[n,p]);let m=(0,r.useCallback)(e=>{if(h&&n){let t=(0,u.calculateCurrentTimeByCursorPosition)(h,e,n.getDuration());n.seek(t),"playing"!==n.getPlayingState()&&window.requestAnimationFrame(f)}},[n,h,f]),b=(0,r.useCallback)(e=>{c.getTouchStarted()||m(e.clientX)},[m]),y=(0,r.useCallback)(e=>{let n=d.current,t=()=>{if(h&&n){let t=(0,u.calculateCursorPosition)(h,e),i=(0,u.calculateCurrentTimeByCursorPosition)(h,e,n.duration||0),r=h.getLeftPadding();n.currentTime=i,n.style.left="".concat(t-50+r,"px")}};window.requestAnimationFrame(t)},[h]),P=(0,r.useCallback)(e=>{c.getTouchStarted()||y(e.clientX)},[y]),x=(0,r.useCallback)(()=>{let e=d.current;e&&(d.current.style.visibility="initial")},[]),C=(0,r.useCallback)(()=>{let e=d.current;e&&(d.current.style.visibility="hidden")},[]),v=(0,r.useCallback)(e=>{if(1===e.touches.length){let n=e.touches[0],t=n.clientX;c.setLastFingerPosition(t),y(t)}},[y]),S=(0,r.useCallback)(e=>{if(c.touch(),1===e.touches.length){let n=e.touches[0],t=n.clientX;c.setLastFingerPosition(t)}x()},[x]),k=(0,r.useCallback)(()=>{c.touchEnd(),m(c.getLastFingerPosition()),C()},[C,m]);return(0,i.jsxs)(l.StripValueWrapper,{onMouseMove:P,onClick:b,onMouseEnter:x,onMouseLeave:C,onTouchStart:S,onTouchEnd:k,onTouchCancel:k,onTouchMove:v,children:[(0,i.jsx)(l.StripValue,{ref:t}),(0,i.jsx)(l.StripValuePlaceholder,{ref:a}),(0,i.jsx)(s.FramePreview,{preload:"metadata",src:null==n?void 0:n.getVideoSrc(),ref:d})]})};n.default=d},7125:function(e,n,t){t.r(n),t.d(n,{calculateCurrentTimeByCursorPosition:function(){return l},calculateCursorPosition:function(){return i},calculateCursorPositionInPercents:function(){return r}});let i=(e,n)=>{let t=e.getLeftOffset();return n-t},r=(e,n)=>{let t=100/e.getWidth();return t*i(e,n)},l=(e,n,t)=>{let i=r(e,n)/100;return Math.min(t*i,t)};n.default=i},9110:function(e,n,t){t.r(n),t.d(n,{Time:function(){return o}});var i=t(7297),r=t(8458);function l(){let e=(0,i.Z)(["\n  display: block;\n\n  flex-shrink: 0;\n\n  min-width: 40px;\n  text-align: right;\n"]);return l=function(){return e},e}let o=r.ZP.span(l());n.default=o},994:function(e,n,t){t.r(n),t.d(n,{Timer:function(){return u}});var i=t(5893),r=t(7294),l=t(9110),o=t(3547);let u=e=>{let{controller:n}=e,t=(0,r.useRef)(null),u=(0,r.useCallback)(()=>{let e=t.current;(null==e?void 0:e.textContent)&&(e.textContent=(0,o.formatCurrentVideoTime)((null==n?void 0:n.getPlayingProgress())||0))},[n]);(0,r.useEffect)(()=>{n&&n.subscribe("seeking",async()=>{window.requestAnimationFrame(u)})},[n,u]);let s=(0,r.useCallback)(async()=>{let e=()=>{u(),(null==n?void 0:n.getPlayingState())==="playing"&&window.requestAnimationFrame(e)};window.requestAnimationFrame(e)},[n,u]);return(0,r.useEffect)(()=>{n&&n.subscribe("playingState",s)},[n,s]),(0,i.jsx)(l.Time,{ref:t,children:"0:00"})};n.default=u},3547:function(e,n,t){t.r(n),t.d(n,{formatCurrentVideoTime:function(){return i}});let i=e=>{if(!e)return"0:00";let n=Math.floor(e/60),t=Math.floor(e%60);return"".concat(n>=1?n:0,":").concat(t<10?"0".concat(t):t)};n.default=i},6686:function(e,n,t){t.r(n),t.d(n,{StyledStripValueWrapper:function(){return a},StyledStripeValue:function(){return s}});var i=t(7297),r=t(8458),l=t(5522);function o(){let e=(0,i.Z)(["\n    width: 0%;\n\n    z-index: 1;\n"]);return o=function(){return e},e}function u(){let e=(0,i.Z)(["\n    background-color: rgba(64, 64, 64, 0.7);\n\n    border-radius: 3px;\n"]);return u=function(){return e},e}let s=(0,r.ZP)(l.StripValue)(o()),a=(0,r.ZP)(l.StripValueWrapper)(u());n.default=s},2615:function(e,n,t){t.r(n),t.d(n,{Volume:function(){return d}});var i=t(5893),r=t(7294),l=t(6686),o=t(5522),u=t(6104),s=t(7125),a=t(7149);let c=new a.GesturesController,d=e=>{let{controller:n}=e,[t,a]=(0,r.useState)(),d=(0,r.useRef)(null),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{h.current&&a(new u.RectangleController(h.current))},[]),(0,r.useEffect)(()=>{d.current&&n&&(d.current.style.width="".concat(n.getVolume(),"%"))},[n]);let g=(0,r.useCallback)(e=>{if(t&&n){let i=(0,s.calculateCursorPositionInPercents)(t,e);n.updateVolume(i);let r=()=>{d.current&&(d.current.style.width="".concat(Math.max(i,0),"%"))};window.requestAnimationFrame(r)}},[n,t]),f=(0,r.useCallback)(e=>{c.getTouchStarted()||g(e.clientX)},[g]),p=(0,r.useCallback)(e=>{if(1===e.touches.length){let n=e.touches[0],t=n.clientX;g(t)}},[g]),m=(0,r.useCallback)(e=>{if(1===e.touches.length){let n=e.touches[0],t=n.clientX;g(t)}c.touch()},[g]),b=(0,r.useCallback)(()=>{c.touchEnd()},[]);return(0,i.jsxs)(l.StyledStripValueWrapper,{onClick:f,onTouchMove:p,onTouchStart:m,onTouchEnd:b,onTouchCancel:b,children:[(0,i.jsx)(l.StyledStripeValue,{ref:d}),(0,i.jsx)(o.StripValuePlaceholder,{ref:h})]})};n.default=d},7149:function(e,n,t){t.r(n),t.d(n,{GesturesController:function(){return i}});class i{touch(){window.clearTimeout(this.timeoutId),this.touchStarted=!0}touchEnd(){this.timeoutId=window.setTimeout(()=>{this.touchStarted=!1},300)}getTouchStarted(){return this.touchStarted}setLastFingerPosition(e){this.lastFingerPositionX=e}getLastFingerPosition(){return this.lastFingerPositionX}constructor(){this.touchStarted=!1,this.lastFingerPositionX=0,this.timeoutId=0}}n.default=i},6104:function(e,n,t){t.r(n),t.d(n,{RectangleController:function(){return i}});class i{getWidth(){return this.width}getLeftOffset(){return this.left}getLeftPadding(){return this.leftPadding}dispose(){window.removeEventListener("resize",this.boundUpdate)}update(){let e=this.element.getBoundingClientRect();this.leftPadding=this.element.offsetLeft,this.width=e.width,this.left=e.left}constructor(e){this.width=0,this.left=0,this.leftPadding=0,this.element=e,this.boundUpdate=this.update.bind(this),window.addEventListener("resize",this.boundUpdate),this.boundUpdate()}}n.default=i},8451:function(e,n,t){t.r(n),t.d(n,{VideoController:function(){return i}});class i{play(){this.isPausingBlocked=!0,this.element.play().then(()=>{this.isPausingBlocked=!1}).catch(e=>{console.log(e)})}pause(){this.isPausingBlocked||this.element.pause()}replay(){"ended"!==this.getPlayingState()&&this.reset(),this.play()}mute(){this.cachedVolume=this.element.volume,this.element.volume=0}unmute(){this.element.volume=this.cachedVolume}updateVolume(e){e>100?this.element.volume=1:e<0?this.element.volume=0:this.element.volume=.01*e}seek(e){this.element.currentTime=e}getPlayingProgress(){return this.element.currentTime}getPlayingState(){return this.element.paused?this.element.ended?"ended":"paused":"playing"}getDuration(){return this.element.duration}getVolume(){return 1e3*this.element.volume}subscribe(e,n){"playingState"===e&&this.playingStateListeners.push(n),"volumeChange"===e&&this.volumeChangeListeners.push(n),"seeking"===e&&this.seekingListeners.push(n)}getVideoSrc(){return this.element.src}reset(){this.element.currentTime=0}emitPlayingStateChangeListeners(){try{this.playingStateListeners.map(e=>e())}catch(e){console.error(e)}}emitVolumeChangeListeners(){try{this.volumeChangeListeners.map(e=>e())}catch(e){console.error(e)}}emitSeekingListeners(){try{this.seekingListeners.map(e=>e())}catch(e){console.error(e)}}dispose(){let e=this.element;e.removeEventListener("play",this.boundEmitPlayingStateChangeListener),e.removeEventListener("pause",this.boundEmitPlayingStateChangeListener),e.removeEventListener("ended",this.boundEmitPlayingStateChangeListener),e.removeEventListener("playing",this.boundEmitPlayingStateChangeListener),e.removeEventListener("waiting",this.boundEmitPlayingStateChangeListener),e.removeEventListener("volumechange",this.boundEmitVolumeChangeListeners),e.removeEventListener("seeking",this.boundEmitSeekingListeners)}constructor(e){this.playingStateListeners=[],this.volumeChangeListeners=[],this.seekingListeners=[],this.element=e,this.isPausingBlocked=!1,this.cachedVolume=.5,this.boundEmitPlayingStateChangeListener=this.emitPlayingStateChangeListeners.bind(this),this.boundEmitVolumeChangeListeners=this.emitVolumeChangeListeners.bind(this),this.boundEmitSeekingListeners=this.emitSeekingListeners.bind(this),e.addEventListener("play",this.boundEmitPlayingStateChangeListener),e.addEventListener("pause",this.boundEmitPlayingStateChangeListener),e.addEventListener("ended",this.boundEmitPlayingStateChangeListener),e.addEventListener("playing",this.boundEmitPlayingStateChangeListener),e.addEventListener("waiting",this.boundEmitPlayingStateChangeListener),e.addEventListener("volumechange",this.boundEmitVolumeChangeListeners),e.addEventListener("seeking",this.boundEmitSeekingListeners)}}n.default=i},5522:function(e,n,t){t.r(n),t.d(n,{StripValue:function(){return s},StripValuePlaceholder:function(){return a},StripValueWrapper:function(){return c}});var i=t(7297),r=t(8458);function l(){let e=(0,i.Z)(["\n  width: 0%;\n  height: 4px;\n  border-radius: 1px;\n  background-color: white;\n  overflow: hidden;\n  cursor: pointer;\n  z-index: 1;\n  transition: transform ease-out 200ms;\n"]);return l=function(){return e},e}function o(){let e=(0,i.Z)(["\n  height: 4px;\n  border-radius: 1px;\n  background-color: gray;\n  position: absolute;\n  z-index: 0;\n  width: calc(100% - 16px);\n  cursor: pointer;\n  transition: transform ease-out 200ms;\n\n"]);return o=function(){return e},e}function u(){let e=(0,i.Z)(["\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  flex-shrink: 1;\n  padding: 0 8px;\n  width: 100%;\n  position: relative;\n\n  &:hover {\n    "," {\n      transform: scaleY(2);\n    }\n\n    "," {\n      transform: scaleY(2);\n    }\n  }\n"]);return u=function(){return e},e}let s=r.ZP.div(l()),a=r.ZP.div(o()),c=r.ZP.div(u(),a,s);n.default=s}}]);